<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI Based Cattle Breed Identifier</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: #f9fafc;
      color: #333;
      line-height: 1.6;
    }
    header {
      background: linear-gradient(135deg, #0070f3, #00c6ff);
      color: white;
      padding: 20px 40px;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    header h1 { font-size: 28px; }
    nav { margin-top: 10px; }
    nav a {
      color: white; text-decoration: none; margin-right: 20px;
      font-weight: bold; transition: color 0.3s;
    }
    nav a:hover { color: #ffe600; }
    .hero {
      display: flex; align-items: center; justify-content: center;
      padding: 80px 20px;
      background: url('https://upload.wikimedia.org/wikipedia/commons/9/91/Indian_cow.jpg') no-repeat center/cover;
      color: white; text-align: center;
    }
    .hero h2 {
      font-size: 40px; background: rgba(0,0,0,0.6);
      padding: 20px; border-radius: 12px;
    }
    section {
      padding: 60px 20px;
      max-width: 1000px;
      margin: auto;
    }
    h2.section-title {
      font-size: 28px; margin-bottom: 20px;
      color: #0070f3; text-align: center;
    }
    p { margin-bottom: 16px; font-size: 18px; }
    .gallery {
      display: flex; flex-wrap: wrap; gap: 16px;
      justify-content: center;
    }
    .gallery img {
      width: 300px; border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      transition: transform 0.3s;
    }
    .gallery img:hover { transform: scale(1.05); }
    .upload-box {
      text-align: center; background: #fff;
      border-radius: 16px; padding: 30px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.1);
    }
    input[type="file"] { margin: 20px 0; }
    button {
      padding: 12px 24px; font-size: 16px;
      font-weight: bold; color: #fff;
      background: #0070f3; border: none;
      border-radius: 8px; cursor: pointer;
      transition: 0.3s;
    }
    button:hover { background: #0057c2; }
    #preview img {
      margin-top: 20px; max-width: 300px; border-radius: 12px;
    }
    #result {
      margin-top: 20px; font-size: 20px;
      font-weight: bold; color: #222;
    }
    footer {
      text-align: center; padding: 20px;
      background: #0070f3; color: white;
      margin-top: 40px;
    }
  </style>
</head>
<body>
  <header>
    <h1>AI Based Cattle Breed Identifier</h1>
    <nav>
      <a href="#predict">Identify Breed</a>
      <a href="#about">About</a>
      <a href="#gallery">Gallery</a>
      <a href="#how">How It Works</a>
    </nav>
  </header>

  <div class="hero">
    <h2>Discover Your Cattle’s Breed Instantly with AI</h2>
  </div>

  <!-- Breed Identifier FIRST -->
  <section id="predict">
    <h2 class="section-title">Identify Your Cattle’s Breed</h2>
    <div class="upload-box">
      <form id="predictForm" onsubmit="event.preventDefault(); handlePredict();">
        <input id="fileInput" type="file" accept="image/*" required />
        <br />
        <button type="submit">Upload & Identify</button>
      </form>
      <div id="preview"></div>
      <div id="result"></div>
      <div id="error" style="color:red; margin-top:10px;"></div>
    </div>
  </section>

  <!-- About -->
  <section id="about">
    <h2 class="section-title">About</h2>
    <p>
      The <strong>AI Based Cattle Breed Identifier</strong> is a powerful tool designed to help farmers, researchers, and cattle enthusiasts
      identify breeds of cattle from images. With advanced deep learning models trained on multiple breeds found across India
      and the world, our platform simplifies cattle identification to just a photo.
    </p>
    <p>
      This technology empowers farmers by providing quick, accurate insights into cattle breeds, ensuring better decision-making
      in farming, breeding, and research.
    </p>
  </section>

  <!-- Gallery -->
  <section id="gallery">
    <h2 class="section-title">Cattle Gallery</h2>
    <div class="gallery">
  <img src="https://cdn.pixabay.com/photo/2017/01/20/00/30/cow-1990396_1280.jpg" alt="Gir Cow">
  <img src="https://cdn.pixabay.com/photo/2014/12/21/23/55/bull-575590_1280.jpg" alt="Kankrej Bull">
  <img src="https://cdn.pixabay.com/photo/2016/11/23/14/45/cows-1851071_1280.jpg" alt="Jersey Cow">
  <img src="https://cdn.pixabay.com/photo/2016/12/06/18/27/cow-1887167_1280.jpg" alt="Sahiwal Cow">
  <img src="https://cdn.pixabay.com/photo/2016/11/23/18/35/cow-1851894_1280.jpg" alt="Vechur Cow">
  <img src="https://cdn.pixabay.com/photo/2017/01/27/20/23/cow-2010031_1280.jpg" alt="Tharparkar Cow">
</div>

  </section>

  <!-- How It Works -->
  <section id="how">
    <h2 class="section-title">How It Works</h2>
    <p>
      Our model is powered by deep learning and computer vision. Here’s how it works:
    </p>
    <ul>
      <li>Upload a clear photo of your cattle.</li>
      <li>Our AI processes the image and extracts unique breed features.</li>
      <li>The model compares features with its training data of 40+ breeds.</li>
      <li>You instantly get the predicted breed with confidence percentage.</li>
    </ul>
  </section>

  <footer>
    © 2025 Shah Yaseen. All Rights Reserved.
  </footer>

  <script>
    async function handlePredict() {
      const fileInput = document.getElementById("fileInput");
      const resultDiv = document.getElementById("result");
      const errorDiv = document.getElementById("error");
      const previewDiv = document.getElementById("preview");

      resultDiv.textContent = "";
      errorDiv.textContent = "";
      previewDiv.innerHTML = "";

      if (!fileInput.files[0]) {
        errorDiv.textContent = "⚠️ Please select an image first.";
        return;
      }

      // Show preview
      const img = document.createElement("img");
      img.src = URL.createObjectURL(fileInput.files[0]);
      previewDiv.appendChild(img);

      const formData = new FormData();
      formData.append("file", fileInput.files[0]);

      try {
        const response = await fetch("https://keras-3.onrender.com/predict", {
          method: "POST",
          body: formData,
        });

        if (!response.ok) throw new Error("Server error. Please try again.");
        const data = await response.json();

        if (data.top_breed && data.confidence !== undefined) {
          resultDiv.textContent = `✅ Predicted Breed: ${data.top_breed} (Confidence: ${data.confidence}%)`;
        } else {
          errorDiv.textContent = "⚠️ Could not classify image. Try again.";
        }
      } catch (err) {
        errorDiv.textContent = "⚠️ Error: " + err.message;
      }
    }
  </script>
</body>
</html>
